# Python Rust

## Why extend from python
A couple of reasons to look at adding Rust to a python project:
- Usually the most common reason to add non-python to a project is computation speed.
- If a rust tool already exists, why port it if you can use it directly
- Cooperation - One team may work in Rust, the other in Python, they should
  be able to benefit from collaborating
- Migration: If you had to migrate an entire codebase from python to rust,
  you could use an interop as an intermediary gateway to such an effort.

## How
- C/C++: Its not very safe/quite hard to get right
- cython: Capable, but has a fair learning curve
- Numba/Pypy: JIT compilation, works in some cases, but doesn't have 100%
  compatibility with all code/libraries

## Why Rust?
- Power/Performance of C++, safety of a higher level language via its novel
  compiler based on LLVM.
- No runtime, memory management is manual - but handled mostly by the compiler.
- It does however have a pretty steep learning curve

## Bindings
There are a couple of rust-python interop libraries
- Rust-cpython
- PyO3 (Currently rust nightly only)

## Demo
we can build a rust dynamic library with relative ease via cargo. the
resulting library file can be directly imported by python (assuming
appropriate binding libraries were used etc.)

## Building rust via pip
We can use a setup.py file to wrap the rust library code. To do this, we can
use a library called [[setuptools_rust]], which will provide us with APIs to
compile a rust library (Supports both the binding sets mentioned above)

With this, we can create a rust-based pip-installable library. (Wowsa!)

By default, this will compile the rust extension into a python wheel, so that
we can simply import it. The wheel will then provide all the ABI
implementation details needed to ensure that the library will work wherever
pip can install the wheel.

This means that so long as we build the wheel in all the right environments,
the library can be easily installed wherever its needed. (Sweet!)


---
### Links
- [[python]]
- [[rust]]


[//begin]: # "Autogenerated link references for markdown compatibility"
[python]: python "Python"
[//end]: # "Autogenerated link references"